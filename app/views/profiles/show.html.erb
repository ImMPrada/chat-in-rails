<div class="flex flex-col mx-auto justify-between w-full sm:w-1/4">
  <div class="flex-col">
    <h2 class="block text-white text-center text-l mt-6 mb-12">
      MY PROFILE
    </h2>
    <div class="flex flex-col gap-2 w-full">
      <img
        class="rounded-full
              w-2/4
              mx-auto
              bg-grey-soft
              border-black-dark"
        src=<%= @user.avatar_url %>
      >
      <h3 class="block text-white mx-auto">
        <%= @user.username %>
      </h3>

      <div class="flex flex-col gap-2 w-full mb-6">
        <%= link_to(
          "create a workspace",
          new_workspace_path,
          data: {
            turbo_frame: "new_workspace_form",
            turbo_frame_loading: "eager"
          },
          class: "block btn w-auto bg-blue rounded-lg hover:bg-blue"
        ) %>
      </div>

      <%= turbo_frame_tag "new_workspace_form" %>

      <div id="my_workspaces_list" class="flex flex-col">
        <% @workspaces.each do |workspace| %>
          <%= render partial: 'partials/workspaces/list_card', locals: { 
            workspace:
          } %>
        <% end %>
      </div>

    </div>
  </div>

  <div class="flex flex-col gap-2 w-full mb-6">
    <%= link_to(
      "Log out",
      destroy_user_session_path,
      data: { "turbo-method": :delete },
      class: "block btn w-auto bg-blue rounded-lg hover:bg-blue"
    ) %>
  </div>

</div>
